{"version":3,"sources":["images/chem-cash-logo.png","images/chemistry-background.jpg","components/Theme.js","components/Logo.js","constants/actionTypes.js","components/Header.js","components/Navigation.js","components/PageWrapper.js","components/NotFound.js","components/ProtectedRoute.js","components/ListErrors.js","components/Settings.js","components/Home.js","components/Login/LoginForm.js","components/Login/index.js","components/Notifier.js","reducers/auth.js","reducers/common.js","reducers/home.js","reducers/nav.js","reducers/notifier.js","reducers/settings.js","middleware.js","store.js","reducer.js","components/App.js","index.js","agent.js"],"names":["module","exports","ChemCashTheme","createMuiTheme","breakpoints","values","md","lg","palette","primary","lightGreen","secondary","amber","Logo","props","alt","src","logo","LOGIN","useStyles","makeStyles","theme","title","color","flexGrow","height","marginTop","spacing","marginRight","marginBottom","connect","state","navTabValue","nav","dispatch","onClickLogout","type","classes","currentUser","AppBar","position","Container","Toolbar","className","Typography","variant","align","charAt","toUpperCase","slice","Button","onClick","bottom","width","common","onTabChange","tabValue","redirectTo","value","onLoad","onUnload","userRole","role","useEffect","defaultTab","BottomNavigation","onChange","event","newValue","showLabels","BottomNavigationAction","label","icon","AccountCircle","QueueMusic","wrapper","PageWrapper","children","NotFound","exact","path","component","to","alert","alertList","ListErrors","errors","Object","keys","map","key","readableKey","replace","toLowerCase","Alert","severity","paper","padding","settings","onSubmitForm","user","payload","agent","Auth","save","snackbar","message","initialValues","firstName","lastName","password","validationSchema","Yup","onSubmit","form","a","resetForm","Paper","Grid","container","item","xs","gutterBottom","TextField","name","fullWidth","disabled","inProgress","size","home","appName","token","Settings","auth","username","login","required","submitForm","page","alignItems","backgroundImage","background","backgroundSize","display","justifyContent","up","panel","borderRadius","overflowY","margin","elevation","Notification","enqueueSnackbar","useSnackbar","notifier","onSnackbarClose","notistackRef","React","createRef","onSnackbarDismiss","current","closeSnackbar","maxSnack","ref","action","onClose","error","subtype","defaultState","viewChangeCounter","appLoaded","promiseMiddleware","store","next","v","then","currentView","getState","skipTracking","res","currentState","promise","console","log","response","body","localStorageMiddleware","window","localStorage","setItem","setToken","history","createBrowserHistory","myRouterMiddleware","routerMiddleware","createStore","combineReducers","router","connectRouter","composeWithDevTools","applyMiddleware","onRedirect","push","getItem","ThemeProvider","CssBaseline","fallback","Login","Home","ReactDOM","render","App","document","getElementById","superagent","superagentPromise","_superagent","global","Promise","API_ROOT","responseBody","tokenPlugin","req","set","requests","url","get","use","post","put","register","period","_token"],"mappings":"iGAAAA,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,kD,kOCiB5BC,EAbOC,YAAe,CACnCC,YAAa,CACXC,OAAQ,CACNC,GAAI,IACJC,GAAI,OAGRC,QAAS,CACPC,QAASC,IACTC,UAAWC,O,+ECNAC,EAJF,SAACC,GACZ,OAAO,uCAAKC,IAAI,iBAAiBC,IAAKC,KAAUH,KCCrCI,EAAQ,QCUfC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,MAAO,QACPC,SAAU,GAEZP,KAAM,CACJQ,OAAQ,GACRC,UAAWL,EAAMM,QAAQ,GACzBC,YAAaP,EAAMM,QAAQ,GAC3BE,aAAcR,EAAMM,QAAQ,QAqCjBG,eAjCS,SAACC,GAAD,MAAY,CAClCC,YAAaD,EAAME,IAAID,gBAGE,SAACE,GAAD,MAAe,CACxCC,cAAe,kBAAMD,EAAS,CAAEE,KD1BZ,eCsDPN,EAzBA,SAAChB,GACd,IAAMuB,EAAUlB,IACVG,EAAQR,EAAMkB,YAEpB,OAAIlB,EAAMwB,YAEN,kBAACC,EAAA,EAAD,CAAQC,SAAS,UACf,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,CAAMC,UAAWN,EAAQpB,OACzB,kBAAC2B,EAAA,EAAD,CAAYC,QAAQ,KAAKC,MAAM,SAASH,UAAWN,EAAQf,OACxDA,GAASA,EAAMyB,OAAO,GAAGC,cAAgB1B,EAAM2B,MAAM,IAExD,kBAACC,EAAA,EAAD,CAAQ3B,MAAM,UAAU4B,QAASrC,EAAMqB,eAAvC,aAQD,Q,6CC1CLhB,EAAYC,YAAW,CAC3Ba,IAAK,CACHO,SAAU,QACVY,OAAQ,EACRC,MAAO,UA6EIvB,eAzES,SAACC,GAAD,MAAY,CAClCO,YAAaP,EAAMuB,OAAOhB,YAC1BN,YAAaD,EAAME,IAAID,gBAGE,SAACE,GAAD,MAAe,CACxCqB,YAAa,SAACC,EAAUC,GAAX,OACXvB,EAAS,CAAEE,KFbe,iBEaOsB,MAAOF,EAAUC,WAAYA,KAChEE,OAAQ,SAACH,EAAUC,GAAX,OACNvB,EAAS,CAAEE,KFjBW,aEiBOsB,MAAOF,EAAUC,WAAYA,KAC5DG,SAAU,kBAAM1B,EAAS,CAAEE,KFjBD,qBEgFbN,EA5DI,SAAChB,GAClB,IAAMuB,EAAUlB,IACV0C,EAAW/C,EAAMwB,YAAYwB,KAWnC,OATAC,qBAAU,WACR,IAAMC,EAA0B,YAAbH,EAAyB,UAAY,WAGxD,OAFA/C,EAAM6C,OAAOK,EAAb,WAA6BH,EAA7B,YAAyCG,IAElC,WACLlD,EAAM8C,cAEP,IAEc,YAAbC,EAEA,kBAACI,EAAA,EAAD,CACEtB,UAAWN,EAAQJ,IACnBiC,SAAU,SAACC,EAAOC,GAChBtD,EAAMyC,YAAYa,EAAlB,WAAgCP,EAAhC,YAA4CO,KAE9CC,YAAU,EACVX,MAAO5C,EAAMkB,aAEb,kBAACsC,EAAA,EAAD,CACEC,MAAM,UACNC,KAAM,kBAACC,EAAA,EAAD,MACNf,MAAM,YAER,kBAACY,EAAA,EAAD,CACEC,MAAM,QACNC,KAAM,kBAACE,EAAA,EAAD,MACNhB,MAAM,UAER,kBAACY,EAAA,EAAD,CACEC,MAAM,WACNC,KAAM,kBAAC,IAAD,MACNd,MAAM,cAOZ,kBAACO,EAAA,EAAD,CACEtB,UAAWN,EAAQJ,IACnBiC,SAAU,SAACC,EAAOC,GAChBtD,EAAMyC,YAAYa,IAEpBC,YAAU,EACVX,MAAO5C,EAAMkB,aAEb,kBAACsC,EAAA,EAAD,CACEC,MAAM,WACNC,KAAM,kBAAC,IAAD,MACNd,MAAM,iBCvFRvC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCsD,QAAS,CACPjD,UAAWL,EAAMM,QAAQ,QAUdiD,EANK,SAAC9D,GACnB,IAAMuB,EAAUlB,IAEhB,OAAO,yBAAKwB,UAAWN,EAAQsC,SAAU7D,EAAM+D,WCElCC,EAVE,SAAChE,GAChB,OACE,kBAAC,EAAD,KACE,kBAAC2B,EAAA,EAAD,KACE,kBAACG,EAAA,EAAD,CAAYC,QAAQ,MAApB,gCCMOf,eAVS,SAACC,GAAD,MAAY,CAAEO,YAAaP,EAAMuB,OAAOhB,gBAUxB,iBAAO,KAAhCR,EARQ,SAAChB,GACtB,OAAKA,EAAMwB,YAIJ,kBAAC,IAAD,CAAOyC,OAAK,EAACC,KAAMlE,EAAMkE,KAAMC,UAAWnE,EAAMmE,YAH9C,kBAAC,IAAD,CAAUC,GAAG,S,8ECJlB/D,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC8D,MAAO,CACL,MAAS,OACT,uBAAwB,CACtBtD,aAAcR,EAAMM,QAAQ,KAGhCyD,UAAW,CACTvD,aAAcR,EAAMM,QAAQ,QA6BjB0D,GAzBI,SAACvE,GAClB,IAAMuB,EAAUlB,KAEVmE,EAASxE,EAAMwE,OAErB,OAAIA,EAEA,yBAAK3C,UAAWN,EAAQ+C,WACrBG,OAAOC,KAAKF,GAAQG,KAAI,SAACC,GACxB,IAAMC,EAAcD,EACjBE,QAAQ,qBAAsB,SAC9BC,cACH,OACE,kBAACC,EAAA,EAAD,CAAOnD,UAAWN,EAAQ8C,MAAOY,SAAS,QAAQL,IAAKA,GACpDC,EADH,IACiBL,EAAOI,QAQ3B,M,SC1BHvE,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2E,MAAO,CACLC,QAAS5E,EAAMM,QAAQ,GACvBE,aAAcR,EAAMM,QAAQ,QAsHjBG,gBAlHS,SAACC,GAAD,mBAAC,eACpBA,EAAMmE,UADa,IAEtB5D,YAAaP,EAAMuB,OAAOhB,iBAGD,SAACJ,GAAD,MAAe,CACxCiE,aAAc,SAACC,GAAD,OACZlE,EAAS,CACPE,KPhBwB,iBOiBxBiE,QAASC,KAAMC,KAAKC,KAAKJ,GACzBK,SAAU,CAAEC,QAAS,iBAAkB7D,QAAS,iBAwGvCf,EApGE,SAAChB,GAChB,IAAMwB,EAAcxB,EAAMwB,YAEpBD,EAAUlB,KAEhB,OACE,kBAAC,IAAD,CACEwF,cAAe,CACbC,UAAWtE,EAAYsE,UACvBC,SAAUvE,EAAYuE,SACtBC,SAAU,IAEZC,iBAAkBC,IAAW,CAC3BJ,UAAWI,MACXH,SAAUG,MACVF,SAAUE,QAEZC,SAAQ,uCAAE,WAAO5G,EAAQ6G,GAAf,eAAAC,EAAA,uDACFf,EADE,eACU/F,IACRyG,UAAuC,YAA3BhG,EAAMwB,YAAYwB,aAC/BsC,EAAKU,SAEdhG,EAAMqF,aAAaC,GACnBc,EAAKE,UAAU,CACb/G,OAAO,2BAAM+F,GAAP,IAAaU,SAAU,OAPvB,2CAAF,yDAWR,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAYxB,OAAQxE,EAAMwE,SACJ,YAArBhD,EAAYwB,MACX,kBAACuD,EAAA,EAAD,CAAO1E,UAAWN,EAAQ2D,OACxB,kBAACsB,EAAA,EAAD,CAAMC,WAAS,EAAC5F,QAAS,GACvB,kBAAC2F,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAAC7E,EAAA,EAAD,CAAYC,QAAQ,KAAK6E,cAAY,GAArC,qBAIF,kBAACJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAInH,GAAI,GACrB,kBAAC,IAAD,CACE2E,UAAW0C,IACXpD,MAAM,aACNqD,KAAK,YACLxF,KAAK,OACLS,QAAQ,WACRgF,WAAS,KAGb,kBAACP,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAInH,GAAI,GACrB,kBAAC,IAAD,CACE2E,UAAW0C,IACXpD,MAAM,YACNqD,KAAK,WACLxF,KAAK,OACLS,QAAQ,WACRgF,WAAS,OAMnB,kBAACR,EAAA,EAAD,CAAO1E,UAAWN,EAAQ2D,OACxB,kBAACsB,EAAA,EAAD,CAAMC,WAAS,EAAC5F,QAAS,GACvB,kBAAC2F,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAAC7E,EAAA,EAAD,CAAYC,QAAQ,KAAK6E,cAAY,GAArC,yBAIF,kBAACJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAInH,GAAI,GACrB,kBAAC,IAAD,CACE2E,UAAW0C,IACXpD,MAAM,eACNqD,KAAK,WACLxF,KAAK,WACLS,QAAQ,WACRgF,WAAS,OAKjB,kBAACR,EAAA,EAAD,CAAO1E,UAAWN,EAAQ2D,OACxB,kBAACsB,EAAA,EAAD,CAAMC,WAAS,EAAC5F,QAAS,GACvB,kBAAC2F,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAACvE,EAAA,EAAD,CACE3B,MAAM,UACNuG,SAAUhH,EAAMiH,WAChBC,KAAK,QACL5F,KAAK,SACLS,QAAQ,aAEP/B,EAAMiH,WAAa,YAAc,gBC7DnCjG,gBA/CS,SAACC,GAAD,mBAAC,eACpBA,EAAMkG,MADa,IAEtBC,QAASnG,EAAMuB,OAAO4E,QACtB5F,YAAaP,EAAMuB,OAAOhB,YAC1B6F,MAAOpG,EAAMuB,OAAO6E,WAGK,SAACjG,GAAD,MAAe,CACxCyB,OAAQ,kBAAMzB,EAAS,CAAEE,KRpBK,sBQqB9BwB,SAAU,kBAAM1B,EAAS,CAAEE,KRpBK,2BQ0DnBN,EAnCF,SAAChB,GAAW,IACfoH,EAAyBpH,EAAzBoH,QAAS5F,EAAgBxB,EAAhBwB,YAUjB,OARAyB,qBAAU,WAGR,OAFAjD,EAAM6C,SAEC,WACL7C,EAAM8C,cAEP,IAEEtB,EAKH,oCACE,kBAAC,EAAD,CAAQ4F,QAASA,EAAS5F,YAAaA,IACvC,kBAAC,EAAD,KACE,kBAACG,EAAA,EAAD,KACE,kBAAC,IAAD,KAGE,kBAAC,EAAD,CAAgBuC,KAAK,oBAAoBC,UAAWmD,KACpD,kBAAC,EAAD,CAAgBpD,KAAK,oBAAoBC,UAAWmD,KACpD,kBAAC,EAAD,CAAgBpD,KAAK,kBAAkBC,UAAWmD,KAClD,kBAAC,IAAD,CAAOnD,UAAWH,MAGtB,kBAAC,EAAD,QAjBG,kBAAC,IAAD,CAAUI,GAAG,c,SC6CTpD,gBAvES,SAACC,GAAD,sBAAiBA,EAAMsG,SAEpB,SAACnG,GAAD,MAAe,CACxC+E,SAAU,SAACqB,EAAUxB,GAAX,OACR5E,EAAS,CAAEE,KAAMlB,EAAOmF,QAASC,KAAMC,KAAKgC,MAAMD,EAAUxB,SAmEjDhF,EAhEG,SAAChB,GAKjB,OACE,kBAAC,IAAD,CACE6F,cAAe,CACb2B,SAAU,WACVxB,SAAU,WAEZC,iBAAkBC,IAAW,CAC3BsB,SAAUtB,MAAawB,SAAS,YAEhC1B,SAAUE,MAAawB,SAAS,cAGlCvB,SAAU,SAAC5G,IAhBI,SAACiI,EAAUxB,GAC5BhG,EAAMmG,SAASqB,EAAUxB,GAiBrB2B,CAD+BpI,EAAvBiI,SAAuBjI,EAAbyG,YAIpB,kBAAC,IAAD,KACE,kBAACQ,EAAA,EAAD,CAAMC,WAAS,EAAC5F,QAAS,GACvB,kBAAC2F,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAAC,GAAD,CAAYnC,OAAQxE,EAAMwE,SAC1B,kBAAC,IAAD,CACEL,UAAW0C,IACXG,SAAUhH,EAAMiH,WAChBF,WAAS,EACTtD,MAAM,WACNqD,KAAK,WACLxF,KAAK,OACLS,QAAQ,cAGZ,kBAACyE,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAAC,IAAD,CACExC,UAAW0C,IACXG,SAAUhH,EAAMiH,WAChBF,WAAS,EACTtD,MAAM,WACNqD,KAAK,WACLxF,KAAK,WACLS,QAAQ,cAGZ,kBAACyE,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAACvE,EAAA,EAAD,CACE3B,MAAM,UACNuG,SAAUhH,EAAMiH,WAChBC,KAAK,QACL5F,KAAK,SACLS,QAAQ,aALV,gB,qBCtDN1B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCqH,KAAK,cACHC,WAAY,SACZC,gBAAgB,OAAD,OAASC,KAAT,KACfC,eAAgB,QAChBC,QAAS,OACTtH,OAAQ,OACRuH,eAAgB,UACf3H,EAAMjB,YAAY6I,GAAG,MAAQ,CAC5BH,eAAgB,UAChBE,eAAgB,aAGpBE,MAAM,cACJC,aAAc,OACdC,UAAW,SACXnD,QAAS,YACTzD,SAAU,WACVa,MAAO,OACNhC,EAAMjB,YAAY6I,GAAG,MAAQ,CAC5BE,aAAc,IACd1H,OAAQ,OACR4B,MAAO,QAGXpC,KAAM,CACJ8H,QAAS,QACTM,OAAQ,SACRhG,MAAO,SAyCIvB,gBArCS,SAACC,GAAD,MAAY,CAClCO,YAAaP,EAAMuB,OAAOhB,gBAGD,SAACJ,GAAD,MAAe,CACxC0B,SAAU,kBAAM1B,EAAS,CAAEE,KV7CM,4BU6EpBN,EA7BD,SAAChB,GACb,IAAMuB,EAAUlB,KAMhB,OAJA4C,qBAAU,WACR,OAAO,kBAAMjD,EAAM8C,cAClB,IAEC9C,EAAMwB,YACD,kBAAC,IAAD,CAAU4C,GAAG,MAIpB,kBAAC,IAAD,KACE,yBAAKvC,UAAWN,EAAQqG,MACtB,kBAACrB,EAAA,EAAD,CAAOiC,UAAW,GAAI3G,UAAWN,EAAQ6G,OACvC,kBAAC5B,EAAA,EAAD,CAAMC,WAAS,EAAC5F,QAAS,GACvB,kBAAC2F,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAAC,EAAD,CAAM9E,UAAWN,EAAQpB,QAE3B,kBAACqG,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAAC,GAAD,c,UC3DR8B,GAAe,SAACzI,GAAW,IACvB2F,EAAa3F,EAAb2F,SACA+C,EAAoBC,eAApBD,gBAQR,OANAzF,qBAAU,WACJ0C,GACF+C,EAAgB/C,EAASC,QAAS,CAAE7D,QAAS4D,EAAS5D,YAEvD,CAAC4D,IAEG3F,EAAM+D,UAyBA/C,gBA3CS,SAACC,GAAD,MAAY,CAClC0E,SAAU1E,EAAM2H,SAASjD,aAGA,SAACvE,GAAD,MAAe,CACxCyH,gBAAiB,kBAAMzH,EAAS,CAAEE,KXML,wBWgChBN,EAtBE,SAAChB,GAChB,IAAM8I,EAAeC,IAAMC,YACrBC,EAAoB,SAACrE,GAAD,OAAS,WACjCkE,EAAaI,QAAQC,cAAcvE,KAGrC,OACE,kBAAC,KAAD,CACEwE,SAAU,EACVC,IAAKP,EACLQ,OAAQ,SAAC1E,GAAD,OACN,kBAACxC,EAAA,EAAD,CAAQC,QAAS4G,EAAkBrE,IAAnC,YAEF2E,QAAS,WACPvJ,EAAM6I,oBAGR,kBAAC,GAAD,CAAclD,SAAU3F,EAAM2F,UAAW3F,EAAM+D,c,+CCrCtC,cAAyB,IAAxB9C,EAAuB,uDAAf,GAAIqI,EAAW,uCACrC,OAAQA,EAAOhI,MACb,KAAKlB,EACL,IZFoB,WYGlB,OAAO,2BACFa,GADL,IAEEgG,YAAY,EACZzC,OAAQ8E,EAAOE,MAAQF,EAAO/D,QAAQf,OAAS,OAEnD,IZX+B,sBYY/B,IZRkC,yBYShC,MAAO,GACT,IZnBuB,cYoBrB,GAAI8E,EAAOG,UAAYrJ,GZZL,aYYckJ,EAAOG,QACrC,OAAO,2BAAKxI,GAAZ,IAAmBgG,YAAY,IAEjC,MACF,QACE,OAAOhG,EAGX,OAAOA,GCdHyI,GAAe,CACnBtC,QAAS,YACTC,MAAO,KACPsC,kBAAmB,GAGN,cAAmC,IAAlC1I,EAAiC,uDAAzByI,GAAcJ,EAAW,uCAC/C,OAAQA,EAAOhI,MACb,IbvBoB,WawBlB,OAAO,2BACFL,GADL,IAEEoG,MAAOiC,EAAOjC,OAAS,KACvBuC,WAAW,EACXpI,YAAa8H,EAAO/D,QAAU+D,EAAO/D,QAAQD,KAAO,OAExD,IbtBoB,WauBlB,OAAO,2BAAKrE,GAAZ,IAAmB0B,WAAY,OACjC,IbzBkB,Sa0BhB,OAAO,2BAAK1B,GAAZ,IAAmB0B,WAAY,SAAU0E,MAAO,KAAM7F,YAAa,OACrE,IbvB0B,iBawBxB,OAAO,2BACFP,GADL,IAEEO,YAAa8H,EAAOE,MAAQvI,EAAMO,YAAc8H,EAAO/D,QAAQD,OAGnE,KAAKlF,EACL,IbhCoB,WaiClB,OAAO,2BACFa,GADL,IAEE0B,WAAY2G,EAAOE,MAAQ,KAAO,IAClCnC,MAAOiC,EAAOE,MAAQ,KAAOF,EAAO/D,QAAQD,KAAK+B,MACjD7F,YAAa8H,EAAOE,MAAQ,KAAOF,EAAO/D,QAAQD,OAEtD,Ib5C8B,qBa6C9B,IbrCkC,yBasClC,Ib5C+B,sBa6C/B,IbzCkC,yBa0ChC,OAAO,2BAAKrE,GAAZ,IAAmB0I,kBAAmB1I,EAAM0I,kBAAoB,IAClE,IbtCsB,aauCtB,IbrC0B,iBasCxB,OAAO,2BAAK1I,GAAZ,IAAmB0B,WAAY2G,EAAO3G,aACxC,QACE,OAAO1B,ICvDE,cAAyB,IAAxBA,EAAuB,uDAAf,GAAIqI,EAAW,uCACrC,OAAQA,EAAOhI,MACb,IdD4B,mBcE1B,OAAO,eAAKL,GACd,IdF8B,qBcG5B,MAAO,GACT,QACE,OAAOA,ICHE,cAAyB,IAAxBA,EAAuB,uDAAf,GAAIqI,EAAW,uCACrC,OAAQA,EAAOhI,MACb,IfOsB,aeNtB,IfQ0B,iBePxB,OAAO,2BACFL,GADL,IAEEC,YAAaoI,EAAO1G,QAExB,IfEwB,eeDtB,MAAO,GACT,QACE,OAAO3B,ICfE,cAAyB,IAAxBA,EAAuB,uDAAf,GAAIqI,EAAW,uCACrC,OAAQA,EAAOhI,MACb,IhBO0B,iBgBNxB,OAAO,2BAAKL,GAAZ,IAAmB0E,SAAU2D,EAAOE,MAAQ,KAAOF,EAAO3D,WAC5D,IhBY2B,kBgBXzB,OAAO,2BAAK1E,GAAZ,IAAmB0E,SAAU,OAC/B,QACE,OAAO1E,ICFE,cAAyB,IAAxBA,EAAuB,uDAAf,GAAIqI,EAAW,uCACrC,OAAQA,EAAOhI,MACb,IjBE0B,iBiBDxB,OAAO,2BACFL,GADL,IAEEgG,YAAY,EACZzC,OAAQ8E,EAAOE,MAAQF,EAAO/D,QAAQf,OAAS,OAEnD,IjBHkC,yBiBIhC,MAAO,GACT,IjBhBuB,ciBiBrB,OAAO,2BACFvD,GADL,IAEEgG,YAAY,IAEhB,IjBpBqB,YiBqBnB,OAAO,2BAAKhG,GAAZ,IAAmBgG,YAAY,IACjC,QACE,OAAOhG,IChBP4I,GAAoB,SAACC,GAAD,OAAW,SAACC,GAAD,OAAU,SAACT,GAC9C,IAmDiBU,EAnDHV,EAAO/D,UAoDS,oBAAXyE,EAAEC,KApDrB,CACEH,EAAM1I,SAAS,CAAEE,KlBVM,ckBUamI,QAASH,EAAOhI,OAEpD,IAAM4I,EAAcJ,EAAMK,WAAWR,kBAC/BS,EAAed,EAAOc,aAE5Bd,EAAO/D,QAAQ0E,MACb,SAACI,GACC,IAAMC,EAAeR,EAAMK,YACtBC,GAAgBE,EAAaX,oBAAsBO,KAGxDZ,EAAO/D,QAAU8E,EACjBP,EAAM1I,SAAS,CAAEE,KlBrBA,YkBqBiBiJ,QAASjB,EAAO/D,UAClDuE,EAAM1I,SAASkI,OAEjB,SAACE,GACC,IAAMc,EAAeR,EAAMK,YACtBC,GAAgBE,EAAaX,oBAAsBO,KAGxDM,QAAQC,IAAI,QAASjB,GACrBF,EAAOE,OAAQ,EACfF,EAAO/D,QAAUiE,EAAMkB,SAASC,KAC3BrB,EAAOc,cACVN,EAAM1I,SAAS,CAAEE,KlBjCF,YkBiCmBiJ,QAASjB,EAAO/D,UAEpDuE,EAAM1I,SAASkI,WA3BrB,CAmDF,IAAmBU,EAjBjBD,EAAKT,OAGDsB,GAAyB,SAACd,GAAD,OAAW,SAACC,GAAD,OAAU,SAACT,GlBtC7B,akBuClBA,EAAOhI,MAAqBgI,EAAOhI,OAASlB,EACzCkJ,EAAOE,QACVqB,OAAOC,aAAaC,QAAQ,MAAOzB,EAAO/D,QAAQD,KAAK+B,OACvD7B,KAAMwF,SAAS1B,EAAO/D,QAAQD,KAAK+B,QlB5CnB,WkB8CTiC,EAAOhI,OAChBuJ,OAAOC,aAAaC,QAAQ,MAAO,IACnCvF,KAAMwF,SAAS,OAGjBjB,EAAKT,MCjDA,ICCS2B,GDDHA,GAAUC,eAGjBC,GAAqBC,aAAiBH,IAoB/BnB,GAAQuB,wBCtBLJ,GDuBIA,GCtBlBK,2BAAgB,CACd/D,QACA/E,UACA2E,QACAhG,OACAyH,YACAxD,YACAmG,OAAQC,YAAcP,ODgBxBQ,+BAlBSC,2BACLP,GACAtB,GACAe,MEkDS5J,gBArDS,SAACC,GACvB,MAAO,CACL2I,UAAW3I,EAAMuB,OAAOoH,UACxBjH,WAAY1B,EAAMuB,OAAOG,eAIF,SAACvB,GAAD,MAAe,CACxCyB,OAAQ,SAAC0C,EAAS8B,GAAV,OACNjG,EAAS,CAAEE,KrBzBS,WqByBOiE,UAAS8B,QAAO+C,cAAc,KAC3DuB,WAAY,kBAAMvK,EAAS,CAAEE,KrBlBP,iBqB6DTN,EAxCH,SAAChB,GAAW,IACd4J,EAA0B5J,EAA1B4J,UAAWjH,EAAe3C,EAAf2C,WAkBnB,OAhBAM,qBAAU,WACJN,IACFmH,GAAM1I,SAASwK,YAAKjJ,IACpB3C,EAAM2L,gBAEP,CAAChJ,IAEJM,qBAAU,WACR,IAAMoE,EAAQwD,OAAOC,aAAae,QAAQ,OACtCxE,GACF7B,KAAMwF,SAAS3D,GAGjBrH,EAAM6C,OAAOwE,EAAQ7B,KAAMC,KAAKyD,UAAY,KAAM7B,KACjD,IAECuC,EAEA,kBAACkC,EAAA,EAAD,CAAevL,MAAOnB,GACpB,kBAAC2M,EAAA,EAAD,MACA,kBAAC,GAAD,KACE,kBAAC,IAAD,KACE,kBAAC,WAAD,CAAUC,SAAU,0CAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO/H,OAAK,EAACC,KAAK,SAASC,UAAW8H,KACtC,kBAAC,IAAD,CAAO/H,KAAK,IAAIC,UAAW+H,UASlC,8ECzDTC,IAASC,OACP,kBAAC,IAAD,CAAUtC,MAAOA,IACf,kBAAC,IAAD,CAAiBmB,QAASA,IACxB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO/G,KAAK,IAAIC,UAAWkI,QAKjCC,SAASC,eAAe,U,iCClB1B,oDAGMC,EAAaC,IAAkBC,IAAaC,EAAOC,SAGnDC,EAAW,sCAEXC,EAAe,SAACzC,GAAD,OAASA,EAAIM,MAE9BtD,EAAQ,KACR0F,EAAc,SAACC,GACb3F,GACF2F,EAAIC,IAAI,gBAAR,gBAAkC5F,KAIhC6F,EAGC,SAACC,GAAD,OACHX,EAAWY,IAAX,UAAkBP,GAAlB,OAA6BM,IAAOE,IAAIN,GAAa9C,KAAK6C,IAJxDI,EAKE,SAACC,EAAKxC,GAAN,OACJ6B,EACGc,KADH,UACWT,GADX,OACsBM,GAAOxC,GAC1B0C,IAAIN,GACJ9C,KAAK6C,IATNI,EAUC,SAACC,EAAKxC,GAAN,OACH6B,EACGe,IADH,UACUV,GADV,OACqBM,GAAOxC,GACzB0C,IAAIN,GACJ9C,KAAK6C,IAGNrH,EAAO,CACXyD,QAAS,kBAAMgE,EAAa,UAC5BzF,MAAO,SAACD,EAAUxB,GAAX,OACLkH,EAAc,eAAgB,CAAE5H,KAAM,CAAEkC,WAAUxB,eACpDwH,SAAU,SAACxK,EAAMwE,EAAU1B,EAAWC,EAAU0H,EAAQzH,GAA9C,OACRkH,EAAc,SAAU,CACtB5H,KAAM,CAAEtC,OAAMwE,WAAU1B,YAAWC,WAAU0H,SAAQzH,eAEzDN,KAAM,SAACJ,GAAD,OAAU4H,EAAa,QAAS,CAAE5H,WAG3B,KACbG,OACAuF,SAAU,SAAC0C,GACTrG,EAAQqG,M","file":"static/js/main.7affc046.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chem-cash-logo.30174016.png\";","module.exports = __webpack_public_path__ + \"static/media/chemistry-background.58b9362d.jpg\";","import { createMuiTheme } from '@material-ui/core/styles'\nimport lightGreen from '@material-ui/core/colors/lightGreen'\nimport amber from '@material-ui/core/colors/amber'\n\nconst ChemCashTheme = createMuiTheme({\n  breakpoints: {\n    values: {\n      md: 768,\n      lg: 1024,\n    },\n  },\n  palette: {\n    primary: lightGreen,\n    secondary: amber,\n  },\n})\n\nexport default ChemCashTheme\n","import React from 'react'\nimport logo from '../images/chem-cash-logo.png'\n\nconst Logo = (props) => {\n  return <img alt='Chem Cash Logo' src={logo} {...props} />\n}\n\nexport default Logo\n","export const APP_LOAD = 'APP_LOAD'\nexport const ASYNC_START = 'ASYNC_START'\nexport const ASYNC_END = 'ASYNC_END'\nexport const HOME_PAGE_LOADED = 'HOME_PAGE_LOADED'\nexport const HOME_PAGE_UNLOADED = 'HOME_PAGE_UNLOADED'\nexport const LOGIN = 'LOGIN'\nexport const LOGIN_PAGE_UNLOADED = 'LOGIN_PAGE_UNLOADED'\nexport const LOGOUT = 'LOGOUT'\nexport const REDIRECT = 'REDIRECT'\nexport const REGISTER = 'REGISTER'\nexport const REGISTER_PAGE_UNLOADED = 'REGISTER_PAGE_UNLOADED'\nexport const SETTINGS_SAVED = 'SETTINGS_SAVED'\nexport const SETTINGS_PAGE_UNLOADED = 'SETTINGS_PAGE_UNLOADED'\nexport const UPDATE_FIELD_AUTH = 'UPDATE_FIELD_AUTH' //@deprecated?\n\nexport const NAV_LOADED = 'NAV_LOADED'\nexport const NAV_UNLOADED = 'NAV_UNLOADED'\nexport const NAV_TAB_CHANGE = 'NAV_TAB_CHANGE'\nexport const SNACKBAR_CLOSED = 'SNACKBAR_CLOSED'\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport {\n  AppBar,\n  Button,\n  Container,\n  Toolbar,\n  Typography,\n  makeStyles,\n} from '@material-ui/core'\n\nimport Logo from '../components/Logo'\n\nimport { LOGOUT } from '../constants/actionTypes'\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    color: 'white',\n    flexGrow: 1,\n  },\n  logo: {\n    height: 65,\n    marginTop: theme.spacing(2),\n    marginRight: theme.spacing(3),\n    marginBottom: theme.spacing(2),\n  },\n}))\n\nconst mapStateToProps = (state) => ({\n  navTabValue: state.nav.navTabValue,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onClickLogout: () => dispatch({ type: LOGOUT }),\n})\n\nconst Header = (props) => {\n  const classes = useStyles()\n  const title = props.navTabValue\n\n  if (props.currentUser) {\n    return (\n      <AppBar position='static'>\n        <Container>\n          <Toolbar>\n            <Logo className={classes.logo} />\n            <Typography variant='h5' align='center' className={classes.title}>\n              {title && title.charAt(0).toUpperCase() + title.slice(1)}\n            </Typography>\n            <Button color='inherit' onClick={props.onClickLogout}>\n              Logout\n            </Button>\n          </Toolbar>\n        </Container>\n      </AppBar>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport {\n  BottomNavigation,\n  BottomNavigationAction,\n  makeStyles,\n} from '@material-ui/core'\nimport { AccountCircle, QueueMusic, Settings } from '@material-ui/icons'\n\nimport {\n  NAV_TAB_CHANGE,\n  NAV_LOADED,\n  NAV_UNLOADED,\n} from '../constants/actionTypes'\n\nconst useStyles = makeStyles({\n  nav: {\n    position: 'fixed',\n    bottom: 0,\n    width: '100%',\n  },\n})\n\nconst mapStateToProps = (state) => ({\n  currentUser: state.common.currentUser,\n  navTabValue: state.nav.navTabValue,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onTabChange: (tabValue, redirectTo) =>\n    dispatch({ type: NAV_TAB_CHANGE, value: tabValue, redirectTo: redirectTo }),\n  onLoad: (tabValue, redirectTo) =>\n    dispatch({ type: NAV_LOADED, value: tabValue, redirectTo: redirectTo }),\n  onUnload: () => dispatch({ type: NAV_UNLOADED }),\n})\n\nconst Navigation = (props) => {\n  const classes = useStyles()\n  const userRole = props.currentUser.role\n\n  useEffect(() => {\n    const defaultTab = userRole === 'student' ? 'account' : 'settings'\n    props.onLoad(defaultTab, `/${userRole}/${defaultTab}`)\n\n    return () => {\n      props.onUnload()\n    }\n  }, [])\n\n  if (userRole === 'student') {\n    return (\n      <BottomNavigation\n        className={classes.nav}\n        onChange={(event, newValue) => {\n          props.onTabChange(newValue, `/${userRole}/${newValue}`)\n        }}\n        showLabels\n        value={props.navTabValue}\n      >\n        <BottomNavigationAction\n          label='Account'\n          icon={<AccountCircle />}\n          value='account'\n        />\n        <BottomNavigationAction\n          label='Songs'\n          icon={<QueueMusic />}\n          value='songs'\n        />\n        <BottomNavigationAction\n          label='Settings'\n          icon={<Settings />}\n          value='settings'\n        />\n      </BottomNavigation>\n    )\n  }\n\n  return (\n    <BottomNavigation\n      className={classes.nav}\n      onChange={(event, newValue) => {\n        props.onTabChange(newValue)\n      }}\n      showLabels\n      value={props.navTabValue}\n    >\n      <BottomNavigationAction\n        label='Settings'\n        icon={<Settings />}\n        value='settings'\n      />\n    </BottomNavigation>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    marginTop: theme.spacing(4),\n  },\n}))\n\nconst PageWrapper = (props) => {\n  const classes = useStyles()\n\n  return <div className={classes.wrapper}>{props.children}</div>\n}\n\nexport default PageWrapper\n","import React from 'react'\nimport { Container, Typography } from '@material-ui/core'\nimport PageWrapper from './PageWrapper'\n\nconst NotFound = (props) => {\n  return (\n    <PageWrapper>\n      <Container>\n        <Typography variant='h2'>Error 404: Page Not Found</Typography>\n      </Container>\n    </PageWrapper>\n  )\n}\n\nexport default NotFound\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst mapStateToProps = (state) => ({ currentUser: state.common.currentUser })\n\nconst ProtectedRoute = (props) => {\n  if (!props.currentUser) {\n    return <Redirect to='/' />\n  }\n\n  return <Route exact path={props.path} component={props.component} />\n}\n\nexport default connect(mapStateToProps, () => ({}))(ProtectedRoute)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Alert from '@material-ui/lab/Alert'\n\nconst useStyles = makeStyles((theme) => ({\n  alert: {\n    'width': '100%',\n    '&:not(:last-of-type)': {\n      marginBottom: theme.spacing(1),\n    },\n  },\n  alertList: {\n    marginBottom: theme.spacing(2),\n  },\n}))\n\nconst ListErrors = (props) => {\n  const classes = useStyles()\n\n  const errors = props.errors\n\n  if (errors) {\n    return (\n      <div className={classes.alertList}>\n        {Object.keys(errors).map((key) => {\n          const readableKey = key\n            .replace(/([a-z0-9])([A-Z])/g, '$1 $2')\n            .toLowerCase()\n          return (\n            <Alert className={classes.alert} severity='error' key={key}>\n              {readableKey} {errors[key]}\n            </Alert>\n          )\n        })}\n      </div>\n    )\n  }\n\n  return null\n}\n\nexport default ListErrors\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Formik, Form, Field } from 'formik'\nimport { TextField } from 'formik-material-ui'\nimport { Button, Grid, Paper, Typography, makeStyles } from '@material-ui/core'\nimport * as Yup from 'yup'\n\nimport ListErrors from './ListErrors'\nimport agent from '../agent'\n\nimport { SETTINGS_SAVED } from '../constants/actionTypes'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(4),\n  },\n}))\n\nconst mapStateToProps = (state) => ({\n  ...state.settings,\n  currentUser: state.common.currentUser,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSubmitForm: (user) =>\n    dispatch({\n      type: SETTINGS_SAVED,\n      payload: agent.Auth.save(user),\n      snackbar: { message: 'Settings saved', variant: 'success' },\n    }),\n})\n\nconst Settings = (props) => {\n  const currentUser = props.currentUser\n\n  const classes = useStyles()\n\n  return (\n    <Formik\n      initialValues={{\n        firstName: currentUser.firstName,\n        lastName: currentUser.lastName,\n        password: '',\n      }}\n      validationSchema={Yup.object({\n        firstName: Yup.string(),\n        lastName: Yup.string(),\n        password: Yup.string(),\n      })}\n      onSubmit={async (values, form) => {\n        const user = { ...values }\n        if (!user.password && props.currentUser.role !== 'student') {\n          delete user.password\n        }\n        props.onSubmitForm(user)\n        form.resetForm({\n          values: { ...user, password: '' },\n        })\n      }}\n    >\n      <Form>\n        <ListErrors errors={props.errors} />\n        {currentUser.role !== 'student' && (\n          <Paper className={classes.paper}>\n            <Grid container spacing={2}>\n              <Grid item xs={12}>\n                <Typography variant='h5' gutterBottom>\n                  Change your name\n                </Typography>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  component={TextField}\n                  label='First name'\n                  name='firstName'\n                  type='text'\n                  variant='outlined'\n                  fullWidth\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  component={TextField}\n                  label='Last name'\n                  name='lastName'\n                  type='text'\n                  variant='outlined'\n                  fullWidth\n                />\n              </Grid>\n            </Grid>\n          </Paper>\n        )}\n        <Paper className={classes.paper}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <Typography variant='h5' gutterBottom>\n                Change your password\n              </Typography>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Field\n                component={TextField}\n                label='New password'\n                name='password'\n                type='password'\n                variant='outlined'\n                fullWidth\n              />\n            </Grid>\n          </Grid>\n        </Paper>\n        <Paper className={classes.paper}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <Button\n                color='primary'\n                disabled={props.inProgress}\n                size='large'\n                type='submit'\n                variant='contained'\n              >\n                {props.inProgress ? 'Saving...' : 'Save'}\n              </Button>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Form>\n    </Formik>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport { Route, Switch } from 'react-router-dom'\nimport { Container } from '@material-ui/core'\n\nimport Header from './Header'\nimport Navigation from './Navigation'\nimport NotFound from './NotFound'\nimport PageWrapper from './PageWrapper'\nimport ProtectedRoute from './ProtectedRoute'\nimport Settings from './Settings'\n\nimport { HOME_PAGE_LOADED, HOME_PAGE_UNLOADED } from '../constants/actionTypes'\n\nconst mapStateToProps = (state) => ({\n  ...state.home,\n  appName: state.common.appName,\n  currentUser: state.common.currentUser,\n  token: state.common.token,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onLoad: () => dispatch({ type: HOME_PAGE_LOADED }),\n  onUnload: () => dispatch({ type: HOME_PAGE_UNLOADED }),\n})\n\nconst Home = (props) => {\n  const { appName, currentUser } = props\n\n  useEffect(() => {\n    props.onLoad()\n\n    return () => {\n      props.onUnload()\n    }\n  }, [])\n\n  if (!currentUser) {\n    return <Redirect to='/login' />\n  }\n\n  return (\n    <>\n      <Header appName={appName} currentUser={currentUser} />\n      <PageWrapper>\n        <Container>\n          <Switch>\n            {/* <ProtectedRoute path='/student/account' component={} /> */}\n            {/* <ProtectedRoute path='/student/songs' component={} /> */}\n            <ProtectedRoute path='/student/settings' component={Settings} />\n            <ProtectedRoute path='/teacher/settings' component={Settings} />\n            <ProtectedRoute path='/admin/settings' component={Settings} />\n            <Route component={NotFound} />\n          </Switch>\n        </Container>\n        <Navigation />\n      </PageWrapper>\n    </>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport { Formik, Form, Field } from 'formik'\nimport { TextField } from 'formik-material-ui'\nimport Button from '@material-ui/core/Button'\nimport * as Yup from 'yup'\n\nimport ListErrors from '../ListErrors'\nimport agent from '../../agent'\n\nimport { LOGIN } from '../../constants/actionTypes'\n\nconst mapStateToProps = (state) => ({ ...state.auth })\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSubmit: (username, password) =>\n    dispatch({ type: LOGIN, payload: agent.Auth.login(username, password) }),\n})\n\nconst LoginForm = (props) => {\n  const submitForm = (username, password) => {\n    props.onSubmit(username, password)\n  }\n\n  return (\n    <Formik\n      initialValues={{\n        username: 'student1',\n        password: 'student',\n      }}\n      validationSchema={Yup.object({\n        username: Yup.string().required('Required'),\n        // .matches(/^[0-9]+$/, 'Must be numbers only')\n        password: Yup.string().required('Required'),\n        // .matches(/^[0-9]{4}$/, 'Must be exactly 4 numbers')\n      })}\n      onSubmit={(values) => {\n        const { username, password } = values\n        submitForm(username, password)\n      }}\n    >\n      <Form>\n        <Grid container spacing={4}>\n          <Grid item xs={12}>\n            <ListErrors errors={props.errors} />\n            <Field\n              component={TextField}\n              disabled={props.inProgress}\n              fullWidth\n              label='Username'\n              name='username'\n              type='text'\n              variant='outlined'\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Field\n              component={TextField}\n              disabled={props.inProgress}\n              fullWidth\n              label='Password'\n              name='password'\n              type='password'\n              variant='outlined'\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Button\n              color='primary'\n              disabled={props.inProgress}\n              size='large'\n              type='submit'\n              variant='contained'\n            >\n              Login\n            </Button>\n          </Grid>\n        </Grid>\n      </Form>\n    </Formik>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport Div100vh from 'react-div-100vh'\n\nimport Logo from './../Logo'\nimport LoginForm from './LoginForm'\nimport background from './../../images/chemistry-background.jpg'\n\nimport { LOGIN_PAGE_UNLOADED } from '../../constants/actionTypes'\n\nconst useStyles = makeStyles((theme) => ({\n  page: {\n    alignItems: 'center',\n    backgroundImage: `url(${background})`,\n    backgroundSize: 'cover',\n    display: 'flex',\n    height: '100%',\n    justifyContent: 'center',\n    [theme.breakpoints.up('lg')]: {\n      backgroundSize: 'initial',\n      justifyContent: 'flex-end',\n    },\n  },\n  panel: {\n    borderRadius: '1rem',\n    overflowY: 'scroll',\n    padding: '4rem 2rem',\n    position: 'relative',\n    width: '80%',\n    [theme.breakpoints.up('lg')]: {\n      borderRadius: '0',\n      height: '100%',\n      width: '40%',\n    },\n  },\n  logo: {\n    display: 'block',\n    margin: '0 auto',\n    width: 120,\n  },\n}))\n\nconst mapStateToProps = (state) => ({\n  currentUser: state.common.currentUser,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onUnload: () => dispatch({ type: LOGIN_PAGE_UNLOADED }),\n})\n\nconst Login = (props) => {\n  const classes = useStyles()\n\n  useEffect(() => {\n    return () => props.onUnload()\n  }, [])\n\n  if (props.currentUser) {\n    return <Redirect to='/' />\n  }\n\n  return (\n    <Div100vh>\n      <div className={classes.page}>\n        <Paper elevation={12} className={classes.panel}>\n          <Grid container spacing={4}>\n            <Grid item xs={12}>\n              <Logo className={classes.logo} />\n            </Grid>\n            <Grid item xs={12}>\n              <LoginForm />\n            </Grid>\n          </Grid>\n        </Paper>\n      </div>\n    </Div100vh>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { SnackbarProvider, useSnackbar } from 'notistack'\nimport { Button } from '@material-ui/core'\n\nimport { SNACKBAR_CLOSED } from '../constants/actionTypes'\n\nconst mapStateToProps = (state) => ({\n  snackbar: state.notifier.snackbar,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSnackbarClose: () => dispatch({ type: SNACKBAR_CLOSED }),\n})\n\nconst Notification = (props) => {\n  const { snackbar } = props\n  const { enqueueSnackbar } = useSnackbar()\n\n  useEffect(() => {\n    if (snackbar) {\n      enqueueSnackbar(snackbar.message, { variant: snackbar.variant })\n    }\n  }, [snackbar])\n\n  return props.children\n}\n\nconst Notifier = (props) => {\n  const notistackRef = React.createRef()\n  const onSnackbarDismiss = (key) => () => {\n    notistackRef.current.closeSnackbar(key)\n  }\n\n  return (\n    <SnackbarProvider\n      maxSnack={3}\n      ref={notistackRef}\n      action={(key) => (\n        <Button onClick={onSnackbarDismiss(key)}>Dismiss</Button>\n      )}\n      onClose={() => {\n        props.onSnackbarClose()\n      }}\n    >\n      <Notification snackbar={props.snackbar}>{props.children}</Notification>\n    </SnackbarProvider>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifier)\n","import {\n  ASYNC_START,\n  LOGIN,\n  LOGIN_PAGE_UNLOADED,\n  REGISTER,\n  REGISTER_PAGE_UNLOADED,\n} from '../constants/actionTypes'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case LOGIN:\n    case REGISTER:\n      return {\n        ...state,\n        inProgress: false,\n        errors: action.error ? action.payload.errors : null,\n      }\n    case LOGIN_PAGE_UNLOADED:\n    case REGISTER_PAGE_UNLOADED:\n      return {}\n    case ASYNC_START:\n      if (action.subtype === LOGIN || action.subtype === REGISTER) {\n        return { ...state, inProgress: true }\n      }\n      break\n    default:\n      return state\n  }\n\n  return state\n}\n","import {\n  APP_LOAD,\n  HOME_PAGE_UNLOADED,\n  LOGIN,\n  LOGIN_PAGE_UNLOADED,\n  LOGOUT,\n  REDIRECT,\n  REGISTER,\n  REGISTER_PAGE_UNLOADED,\n  SETTINGS_SAVED,\n  SETTINGS_PAGE_UNLOADED,\n  NAV_LOADED,\n  NAV_TAB_CHANGE,\n} from '../constants/actionTypes'\n\nconst defaultState = {\n  appName: 'Chem Cash',\n  token: null,\n  viewChangeCounter: 0,\n}\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case APP_LOAD:\n      return {\n        ...state,\n        token: action.token || null,\n        appLoaded: true,\n        currentUser: action.payload ? action.payload.user : null,\n      }\n    case REDIRECT:\n      return { ...state, redirectTo: null }\n    case LOGOUT:\n      return { ...state, redirectTo: '/login', token: null, currentUser: null }\n    case SETTINGS_SAVED:\n      return {\n        ...state,\n        currentUser: action.error ? state.currentUser : action.payload.user,\n        // currentUser: action.error ? null : action.payload.user,\n      }\n    case LOGIN:\n    case REGISTER:\n      return {\n        ...state,\n        redirectTo: action.error ? null : '/',\n        token: action.error ? null : action.payload.user.token,\n        currentUser: action.error ? null : action.payload.user,\n      }\n    case HOME_PAGE_UNLOADED:\n    case SETTINGS_PAGE_UNLOADED:\n    case LOGIN_PAGE_UNLOADED:\n    case REGISTER_PAGE_UNLOADED:\n      return { ...state, viewChangeCounter: state.viewChangeCounter + 1 }\n    case NAV_LOADED:\n    case NAV_TAB_CHANGE:\n      return { ...state, redirectTo: action.redirectTo }\n    default:\n      return state\n  }\n}\n","import { HOME_PAGE_LOADED, HOME_PAGE_UNLOADED } from '../constants/actionTypes'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case HOME_PAGE_LOADED:\n      return { ...state }\n    case HOME_PAGE_UNLOADED:\n      return {}\n    default:\n      return state\n  }\n}\n","import {\n  NAV_LOADED,\n  NAV_UNLOADED,\n  NAV_TAB_CHANGE,\n} from '../constants/actionTypes'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case NAV_LOADED:\n    case NAV_TAB_CHANGE:\n      return {\n        ...state,\n        navTabValue: action.value,\n      }\n    case NAV_UNLOADED:\n      return {}\n    default:\n      return state\n  }\n}\n","import { SETTINGS_SAVED, SNACKBAR_CLOSED } from '../constants/actionTypes'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case SETTINGS_SAVED:\n      return { ...state, snackbar: action.error ? null : action.snackbar }\n    case SNACKBAR_CLOSED:\n      return { ...state, snackbar: null }\n    default:\n      return state\n  }\n}\n","import {\n  ASYNC_START,\n  ASYNC_END,\n  SETTINGS_PAGE_UNLOADED,\n  SETTINGS_SAVED,\n} from '../constants/actionTypes'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case SETTINGS_SAVED:\n      return {\n        ...state,\n        inProgress: false,\n        errors: action.error ? action.payload.errors : null,\n      }\n    case SETTINGS_PAGE_UNLOADED:\n      return {}\n    case ASYNC_START:\n      return {\n        ...state,\n        inProgress: true,\n      }\n    case ASYNC_END:\n      return { ...state, inProgress: false }\n    default:\n      return state\n  }\n}\n","import agent from './agent'\nimport {\n  ASYNC_START,\n  ASYNC_END,\n  LOGIN,\n  LOGOUT,\n  REGISTER,\n} from './constants/actionTypes'\n\nconst promiseMiddleware = (store) => (next) => (action) => {\n  if (isPromise(action.payload)) {\n    store.dispatch({ type: ASYNC_START, subtype: action.type })\n\n    const currentView = store.getState().viewChangeCounter\n    const skipTracking = action.skipTracking\n\n    action.payload.then(\n      (res) => {\n        const currentState = store.getState()\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\n          return\n        }\n        action.payload = res\n        store.dispatch({ type: ASYNC_END, promise: action.payload })\n        store.dispatch(action)\n      },\n      (error) => {\n        const currentState = store.getState()\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\n          return\n        }\n        console.log('ERROR', error)\n        action.error = true\n        action.payload = error.response.body\n        if (!action.skipTracking) {\n          store.dispatch({ type: ASYNC_END, promise: action.payload })\n        }\n        store.dispatch(action)\n      }\n    )\n\n    return\n  }\n\n  next(action)\n}\n\nconst localStorageMiddleware = (store) => (next) => (action) => {\n  if (action.type === REGISTER || action.type === LOGIN) {\n    if (!action.error) {\n      window.localStorage.setItem('jwt', action.payload.user.token)\n      agent.setToken(action.payload.user.token)\n    }\n  } else if (action.type === LOGOUT) {\n    window.localStorage.setItem('jwt', '')\n    agent.setToken(null)\n  }\n\n  next(action)\n}\n\nfunction isPromise(v) {\n  return v && typeof v.then === 'function'\n}\n\nexport { promiseMiddleware, localStorageMiddleware }\n","import { applyMiddleware, createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly'\nimport { createBrowserHistory } from 'history'\nimport { createLogger } from 'redux-logger'\nimport { routerMiddleware } from 'connected-react-router'\n\nimport createRootReducer from './reducer'\nimport { promiseMiddleware, localStorageMiddleware } from './middleware'\n\nexport const history = createBrowserHistory()\n\n// Build the middleware for intercepting and dispatching navigation actions\nconst myRouterMiddleware = routerMiddleware(history)\n\nconst getMiddleware = () => {\n  if (process.env.NODE_ENV === 'production') {\n    return applyMiddleware(\n      myRouterMiddleware,\n      promiseMiddleware,\n      localStorageMiddleware\n    )\n  } else {\n    // Enable additional logging in non-production environments\n    return applyMiddleware(\n      myRouterMiddleware,\n      promiseMiddleware,\n      localStorageMiddleware,\n      createLogger()\n    )\n  }\n}\n\nexport const store = createStore(\n  createRootReducer(history),\n  composeWithDevTools(getMiddleware())\n)\n","import { combineReducers } from 'redux'\nimport { connectRouter } from 'connected-react-router'\n\nimport auth from './reducers/auth'\nimport common from './reducers/common'\nimport home from './reducers/home'\nimport nav from './reducers/nav'\nimport notifier from './reducers/notifier'\nimport settings from './reducers/settings'\n\nexport default (history) =>\n  combineReducers({\n    auth,\n    common,\n    home,\n    nav,\n    notifier,\n    settings,\n    router: connectRouter(history),\n  })\n","import React, { Suspense, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Route, Switch } from 'react-router-dom'\nimport { push } from 'connected-react-router'\nimport { CssBaseline, ThemeProvider } from '@material-ui/core'\nimport Div100vh from 'react-div-100vh'\n\nimport ChemCashTheme from './Theme'\nimport Home from './Home'\nimport Login from './Login'\nimport Notifier from './Notifier'\nimport agent from '../agent'\nimport { store } from '../store'\n\nimport { APP_LOAD, REDIRECT } from '../constants/actionTypes'\n\nconst mapStateToProps = (state) => {\n  return {\n    appLoaded: state.common.appLoaded,\n    redirectTo: state.common.redirectTo,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  onLoad: (payload, token) =>\n    dispatch({ type: APP_LOAD, payload, token, skipTracking: true }),\n  onRedirect: () => dispatch({ type: REDIRECT }),\n})\n\nconst App = (props) => {\n  const { appLoaded, redirectTo } = props\n\n  useEffect(() => {\n    if (redirectTo) {\n      store.dispatch(push(redirectTo))\n      props.onRedirect()\n    }\n  }, [redirectTo])\n\n  useEffect(() => {\n    const token = window.localStorage.getItem('jwt')\n    if (token) {\n      agent.setToken(token)\n    }\n\n    props.onLoad(token ? agent.Auth.current() : null, token)\n  }, [])\n\n  if (appLoaded) {\n    return (\n      <ThemeProvider theme={ChemCashTheme}>\n        <CssBaseline />\n        <Notifier>\n          <Div100vh>\n            <Suspense fallback={<p>Loading...</p>}>\n              <Switch>\n                <Route exact path='/login' component={Login} />\n                <Route path='/' component={Home} />\n              </Switch>\n            </Suspense>\n          </Div100vh>\n        </Notifier>\n      </ThemeProvider>\n    )\n  }\n\n  return <div>Sorry, there was an error loading the app.</div>\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import { ConnectedRouter } from 'connected-react-router'\nimport { Provider } from 'react-redux'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Route, Switch } from 'react-router-dom'\n\nimport App from './components/App'\nimport { store, history } from './store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <Switch>\n        <Route path='/' component={App} />\n      </Switch>\n    </ConnectedRouter>\n  </Provider>,\n\n  document.getElementById('root')\n)\n","import superagentPromise from 'superagent-promise'\nimport _superagent from 'superagent'\n\nconst superagent = superagentPromise(_superagent, global.Promise)\n\n// const API_ROOT = 'http://localhost:4000/api'\nconst API_ROOT = 'https://chem-cash.herokuapp.com/api'\n\nconst responseBody = (res) => res.body\n\nlet token = null\nlet tokenPlugin = (req) => {\n  if (token) {\n    req.set('authorization', `Token ${token}`)\n  }\n}\n\nconst requests = {\n  del: (url) =>\n    superagent.del(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\n  get: (url) =>\n    superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\n  post: (url, body) =>\n    superagent\n      .post(`${API_ROOT}${url}`, body)\n      .use(tokenPlugin)\n      .then(responseBody),\n  put: (url, body) =>\n    superagent\n      .put(`${API_ROOT}${url}`, body)\n      .use(tokenPlugin)\n      .then(responseBody),\n}\n\nconst Auth = {\n  current: () => requests.get('/user'),\n  login: (username, password) =>\n    requests.post('/users/login', { user: { username, password } }),\n  register: (role, username, firstName, lastName, period, password) =>\n    requests.post('/users', {\n      user: { role, username, firstName, lastName, period, password },\n    }),\n  save: (user) => requests.put('/user', { user }),\n}\n\nexport default {\n  Auth,\n  setToken: (_token) => {\n    token = _token\n  },\n}\n"],"sourceRoot":""}